#Pruebas para el main
#Test to the main class
import pygame
import asyncio
#Dimensions of the window
async def main():
    ANCHO = 800
    LARGO = 600
    #Colors
    NEGRO = pygame.Color(0,0,0)
    ROJO = pygame.Color(255,0,0)
    VERDE = pygame.Color(0,255,0)
    AZUL = pygame.Color(0,0,255)
    BLANCO = pygame.Color(255,255,255)

    def crearBloque(spritesJuego):
        bloque = pygame.sprite.Sprite()

        bloque.image = pygame.Surface([50,50])
        bloque.image.fill(ROJO)
        bloque.rect = bloque.image.get_rect()

        bloque.rect.x = 400
        bloque.rect.y = 300

        spritesJuego.add(bloque)

        return bloque

    def movBloque(protagonista):
        teclaPulsada = pygame.key.get_pressed()
        if(teclaPulsada[pygame.K_d]):
            protagonista.rect.x += 5
        if(teclaPulsada[pygame.K_a]):
            protagonista.rect.x -= 5
        if(teclaPulsada[pygame.K_w]):
            protagonista.rect.y -=  5       
        if(teclaPulsada[pygame.K_s]):
            protagonista.rect.y += 5   
        else:
            protagonista.rect.x = protagonista.rect.x + 0
            protagonista.rect.y = protagonista.rect.y + 0

    def colisiones(protagonista):
        if(protagonista.rect.x<0):
            protagonista.rect.x=51
        if(protagonista.rect.x>750):
            protagonista.rect.x=699
        if(protagonista.rect.y<0):
            protagonista.rect.y=51
        if(protagonista.rect.y>550):
            protagonista.rect.y=499
    pygame.init()
    pantalla = pygame.display.set_mode((ANCHO,LARGO))


    Bloques = pygame.sprite.Group() 
    protagonista = crearBloque(Bloques)
    funcionando = True
    while funcionando:
        pantalla.fill(NEGRO)
        Bloques.draw(pantalla)
        for evento in pygame.event.get():
            if evento.type == pygame.QUIT:
                funcionando = False

        movBloque(protagonista)

        colisiones(protagonista)
        
        pygame.display.flip()

        await asyncio.sleep(0)

asyncio.run(main())